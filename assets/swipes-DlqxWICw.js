import{w as P,r as U,g as W,c as j}from"./index-ExYHSvxM.js";function q(r,c,C,d={}){const b=d.delay??500,w=d.interval??250;let o=!1,a=null,e=0,m=0,i=null,u=null,v=null,g=0,p=null,E=null;function S(){p!==null&&(window.clearTimeout(p),p=null),E!==null&&(window.clearInterval(E),E=null)}function H(n,t,l){S(),p=window.setTimeout(()=>{E=window.setInterval(()=>{},w)},b)}function Y(n,t,l,y,L,s){v=n,i=y,u=l,g=t,c(n,L,s),H()}function K(){o=!1,a=null,i=null,u=null,v=null,g=0,S()}function M(n){if(n.touches.length<1)return;const t=n.target;if(!t||!r.contains(t))return;const l=n.touches[0];a=l.identifier,e=l.clientX,m=l.clientY,o=!0,i=null,u=null,v=null,g=0,S()}function $(n){if(!o)return;let t=null;for(let f=0;f<n.touches.length;f++)if(a===null||n.touches[f].identifier===a){t=n.touches[f];break}if(!t)return;const l=t.clientX-e,y=t.clientY-m,L={x:t.clientX,y:t.clientY},s=i??(Math.abs(l)>=Math.abs(y)?"x":"y"),A=s==="x"?l:y,D=s==="x"?t.clientX:t.clientY,T=A>=0?1:-1,N=Math.abs(A);let O=s==="x"?T===1?"right":"left":T===1?"down":"up";if(v===null){N>=50&&Y(O,D,T,s,N,L);return}if(s!==i)return;const I=D-g,k=I>=0?1:-1;k!==u&&Math.abs(I)>=50&&Y(i==="x"?u===1?"left":"right":u===1?"up":"down",D,k,i,N,L)}function x(){K()}return r.addEventListener("touchstart",M,{passive:!0}),window.addEventListener("touchmove",$,{passive:!0}),window.addEventListener("touchend",x,{passive:!0}),window.addEventListener("touchcancel",x,{passive:!0}),()=>{S(),r.removeEventListener("touchstart",M),window.removeEventListener("touchmove",$),window.removeEventListener("touchend",x),window.removeEventListener("touchcancel",x)}}let X=null;P(U,r=>{r?X=q(r,async(c,C,d)=>{if(c==="up"||c==="down")return;const h=c[0].toUpperCase()+c.slice(1),b=d.x/window.innerWidth,w=d.y/window.innerHeight;let o;b<=.5?o=w<=.5?"NW":"SW":o=w>.5?"SE":"NE";const a=`readingSwipe${o}${h}`;let e=W[a],m=10;for(;e.startsWith("same")&&m--;)e==="sameAsNW"?e=W[`readingSwipeNW${h}`]:e==="sameAsNE"?e=W[`readingSwipeNE${h}`]:e==="sameAsSW"&&(e=W[`readingSwipeSW${h}`]);if(e.startsWith("same"))debugger;j.find(({id:i})=>i===e)?.action()}):(X?.(),X=null)});
